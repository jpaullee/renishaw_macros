%
O09378 (OTS TOOL SET L D RENISHAW V3.14 FOR NGC)
(G65 P9378 H TOOL OFFSET # K Z DISTANCE )
(D APPROX DIA T NUM OF FLUTES E APPROX LENGTH)
G103 P1
#3001= 0
G04 P250
IF [ #3001 LT 200 ] GOTO999 (TEST RUNNING IN GRAPHICS)
#161= 556 (START CALIBRATION VARIABLE)
#179= 1 / 25.4
IF [ #4006 EQ 20 ] GOTO1
IF [ #4006 EQ 70 ] GOTO1
#179= 1
N1
(TOOL SETTING AUTO LENGTH ONLY)
IF [ #[ #161 + 26 ] EQ 0 ] GOTO90
IF [ #[ #161 + 26 ] EQ #0 ] GOTO90
G65 P9024 (Z HOME)
G49
G90
#174= 0
M98 P9799
G103 P1
#27= #5021 - #5041
#30= #5022 - #5042
#31= #5023 - #5043
#3004= 0
G00 X [ #167 - #27 ] Y [ #168 - #30 ]
(LOAD LENGTH OFFSET)
#[ 2000 + #11 ]= #8
#[ 2200 + #11 ]= 0
IF [ #6 EQ #0 ] GOTO2
#6= - [ ABS[ #6 ] ]
G65 P9853 B3. T#11 D#11 S#7 Z#6
GOTO3
N2
G65 P9853 B1. T#11 S#7
N3
G65 P9024 (Z HOME)
G90
GOTO999
N30 #3000= 92 (UNEXPECTED SURFACE FOUND)
N90 #3000= 10 (OTS NOT CALIBRATED)
N999
G103
(G04 P1.0)
M99



%