%
O09834 (FEATURE TO FEATURE RENISHAW V3.14 FOR NGC)
G103 P1
#3001= 0
G04 P250
IF [ #3001 LT 200 ] GOTO999 (TEST RUNNING IN GRAPHICS)
(NO INPUT)
IF [ #1 NE #0 ] GOTO1
IF [ #7 NE #0 ] GOTO1
IF [ #24 NE #0 ] GOTO1
IF [ #25 NE #0 ] GOTO1
IF [ #26 NE #0 ] GOTO1
#31= 185 (LOAD CLEAR)
WHILE [ #31 LE 189 ] DO1
#[ #31 - 5 ]= #[ #31 ]
#[ #31 ]= #0
#[ #31 + 5 ]= #0
#31= #31 + 1
END1
#196= #0
#197= #0
GOTO40
N1
IF [ #19 EQ #0 ] GOTO2
IF [ #20 EQ #0 ] GOTO2
#3000= 91 (ST INPUT MIXED)
N2
IF [ #20 EQ #0 ] GOTO3
IF [ #13 EQ #0 ] GOTO3
#3000= 91 (TM INPUT MIXED)
N3
IF [ #19 EQ #0 ] GOTO4
IF [ #11 EQ #0 ] GOTO4
#3000= 91 (SH INPUT MIXED)
N4
IF [ #197 NE #0 ] GOTO5
IF [ #20 EQ #0 ] GOTO5
#3000= 91 (T INPUT NOT ALLOWED)
N5
IF [ #26 NE #0 ] GOTO14
(XY PLANE)
IF [ #1 EQ #0 ] GOTO6
IF [ #7 EQ #0 ] GOTO6
(A D INPUT)
IF [ #24 NE #0 ] GOTO32
IF [ #25 NE #0 ] GOTO32
IF [ #20 NE #0 ] GOTO38
IF [ #185 EQ #0 ] GOTO34
IF [ #186 EQ #0 ] GOTO34
IF [ #180 EQ #0 ] GOTO34
IF [ #181 EQ #0 ] GOTO34
#24= #7 * COS[ #1 ]
#25= #7 * SIN[ #1 ]
GOTO11
N6 (X Y INPUT)
IF [ #1 NE #0 ] GOTO32
IF [ #7 NE #0 ] GOTO32
(X ONLY)
IF [ #25 NE #0 ] GOTO8
IF [ #185 EQ #0 ] GOTO34
IF [ #180 EQ #0 ] GOTO34
#185= #185 - #180 (INC X)
#186= 0
#188= #185
IF [ #8 EQ #0 ] GOTO7
#188= #188 + #[ 2000 + #8 ] (MIN DIST)
N7
#189= #0
#190= #185 - #24 (X ERR)
#191= 0
#193= #188 - #24
GOTO13
N8
(Y ONLY)
IF [ #24 NE #0 ] GOTO10
IF [ #186 EQ #0 ] GOTO34
IF [ #181 EQ #0 ] GOTO34
#185= 0
#186= #186 - #181 (INC Y)
#188= #186
IF [ #8 EQ #0 ] GOTO9
#188= #188 + #[ 2000 + #8 ] (MIN DIST)
N9
#189= #0
#190= 0
#191= #186 - #25 (Y ERR)
#193= #188 - #25
GOTO13
N10 (XY INPUT)
IF [ #20 NE #0 ] GOTO38
IF [ #185 EQ #0 ] GOTO34
IF [ #186 EQ #0 ] GOTO34
IF [ #180 EQ #0 ] GOTO34
IF [ #181 EQ #0 ] GOTO34
G65 P9731 Y [ #25 ] X [ #24 ] (ATAN)
#1= #168
#7= SQRT[ [ #24 * #24 ] + [ #25 * #25 ] ]
N11
#185= #185 - #180 (INC X)
#186= #186 - #181 (INC Y)
#188= [ SQRT[ [ #186 * #186 ] + [ #185 * #185 ] ] ]
IF [ #8 EQ #0 ] GOTO12
#188= #188 + #[ 2000 + #8 ] (MIN DIST)
N12
G65 P9731 Y [ #186 ] X [ #185 ] (ATAN)
#189= #168
#190= #185 - #24 (X ERR)
#191= #186 - #25 (Y ERR)
#193= #188 - #7 (MIN DIST ERR)
#194= #189 - #1 (ANG ERR)
N13
#187= #0
#192= #0
#195= SQRT[ [ #190 * #190 ] + [ #191 * #191 ] ] (TP ERR)
#196= #0
IF [ #197 EQ #0 ] GOTO19
#196= [ #193 ] * #197 (METAL CON)
GOTO19
N14 (Z PLANE)
IF [ #24 NE #0 ] GOTO33
IF [ #25 NE #0 ] GOTO33
IF [ #187 EQ #0 ] GOTO34
IF [ #182 EQ #0 ] GOTO34
IF [ #1 NE #0 ] GOTO17
IF [ #7 NE #0 ] GOTO16
(Z INPUT ONLY)
#185= #0
#186= #0
#187= #187 - #182 (INC Z)
#188= #187
IF [ #8 EQ #0 ] GOTO15
#188= #188 + #[ 2000 + #8 ] (COR SIZE)
N15
#189= #0
#190= #0
#191= #0
#192= #187 - #26 (Z ERR)
#193= #188 - #26 (SIZE ERR)
#194= #0
#195= ABS[ #192 ] (TP ERR)
#196= #0
#7= #0
IF [ #197 EQ #0 ] GOTO19
#196= #192 * #197 (METAL CON)
GOTO19
N16 (DZ)
IF [ #11 NE #0 ] GOTO35
IF [ #13 NE #0 ] GOTO36
IF [ #19 NE #0 ] GOTO37
IF [ #20 NE #0 ] GOTO38
G65 P9731 Y [ #26 ] X [ #7 ] (ATAN)
#1= #168
GOTO18
N17 (AZ)
#7= #26 / TAN[ #1 ]
N18
#185= #0
#186= #0
#187= #187 - #182 (INC Z)
#188= #0
G65 P9731 Y [ #187 ] X [ #7 ] (ATAN)
#189= #168
#190= #0
#191= #0
#192= #187 - #26 (Z ERR)
#193= #0
#194= #189 - #1 (ANG ERR)
#195= #0
#196= #0
#7= #0
#24= #0
#25= #0
#26= #0
N19
IF [ #23 EQ #0 ] GOTO20
G65 P9730 A#1 D#7 H#11 M#13 Q#2 S#19 T#20 W#23 X#24 Y#25 Z#26
N20
IF [ #21 EQ #0 ] GOTO21 (U UPPER TOL)
IF [ ABS[ #195 ] GE #21 ] GOTO39
IF [ ABS[ #193 ] GE #21 ] GOTO39
N21
IF [ #11 EQ #0 ] GOTO25
IF [ ABS[ #192 ] GE #11 ] GOTO22
IF [ ABS[ #193 ] LT #11 ] GOTO23
N22
#198= 1
N23
IF [ #170 AND 4 EQ 4 ] GOTO25
IF [ ABS[ #192 ] GE #11 ] GOTO24
IF [ ABS[ #193 ] LT #11 ] GOTO25
N24
#[ 3006 - [ [ #170 AND 8 ] / 8 * 6 ] ]= 1 (OUT OF TOL)
N25
IF [ #13 EQ #0 ] GOTO27
IF [ ABS[ #195 ] LT #13 / 2 ] GOTO26
#198= 2
N26
IF [ #170 AND 4 EQ 4 ] GOTO27
IF [ ABS[ #195 ] LT #13 / 2 ] GOTO27
#[ 3006 - [ [ #170 AND 8 ] / 8 * 6 ] ]= 1 (OUT OF POSITION)
N27
IF [ #2 EQ #0 ] GOTO29
IF [ ABS[ #194 ] LT #2 ] GOTO28
#198= 4
N28
IF [ #170 AND 4 EQ 4 ] GOTO29
IF [ ABS[ #194 ] LT #2 ] GOTO29
#[ 3006 - [ [ #170 AND 8 ] / 8 * 6 ] ]= 1 (ANGLE OUT OF TOL)
N29
IF [ #20 EQ #0 ] GOTO31
IF [ #195 LT #22 ] GOTO31
IF [ #9 NE #0 ] GOTO30
#9= 1
N30
G65 P9732 T#20 Z#26 C [ #196 * #9 ]
N31
IF [ #19 EQ #0 ] GOTO40
G65 P9732 S#19 Z#26 W1.
GOTO40
N32
#3000= 91 (FORMAT ERROR)
N33
#3000= 91 (XYZ INPUT MIXED)
N34
#3000= 91 (DATA #180-#189 MISSING)
N35
#3000= 91 (H INPUT NOT ALLOWED)
N36
#3000= 91 (M INPUT NOT ALLOWED)
N37
#3000= 91 (S INPUT NOT ALLOWED)
N38
#3000= 91 (T INPUT NOT ALLOWED)
N39
#198= 3
IF [ #170 AND 4 EQ 4 ] GOTO40
#[ 3006 - [ [ #170 AND 8 ] / 8 * 6 ] ]= 1 (UPPER TOL EXCEEDED)
N40
N999
G103
(G04 P1.0)
M99



%