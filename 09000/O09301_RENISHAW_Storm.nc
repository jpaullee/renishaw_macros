%
O00007()
O09301 (IPS CALIBRATION RENISHAW V3.14 FOR NGC)
(PROBE - BORE)
(G65 P9301 H1.)
G103 P1
#3001= 0
G04 P250
IF [ #3001 LT 200 ] GOTO999 (TEST RUNNING IN GRAPHICS)
#14= #179 (BALL DIA)
#7= #180 (#180 = CAL MASTER DIA)
#26= #183
#179= 1 / 25.4
IF [ #4006 EQ 20 ] GOTO1
IF [ #4006 EQ 70 ] GOTO1
#179= 1
N1
#27= 10 (DEFAULT Q IN MM)
#30= 10 (STAND OFF)
#161= 556 (START CALIBRATION VARIABLE)
G43 H#3026
G65 P9832
G103 P1
#30= #30 * #179
(MOVE DOWN .3 ADD 1/2 BALL)
#15= #5043 - #5083
#16= #5043 - #5083 - [ 7.5 * #179 ] - [ #14 / 2 ]
M78 G31 Z#16 F [ 255. * #179 ]
(BORE CALIBRATION)
IF [ #30057.21 ] GOTO22 (storm)
#3000= 80 (SET PARAM 57 M19 SPND ORT TO 1)
(THIS IS AN OPTION FROM HAAS FOR VQCPS)
(CALL HAAS TO TURN ON)
N22
#[ #161 ]= 0
#[ #161 + 1 ]= 0
#[ #161 + 2 ]= 0
#[ #161 + 3 ]= 0
G65 P9725 A4.
G65 P9725 A5.
G65 P9725 A6.
G65 P9814 D#7 Q#17
G65 P9834
G103 P1
M19 P180
G04 P500
G65 P9814 D#7
G103 P1
#180= [ #180 + #185 ] / 2
#181= [ #181 + #186 ] / 2
G31 X#180 Y#181 F [ 255. * #179 ]
M19
G04 P500
G65 P9802 D#7
G65 P9803 D#7
G103 P1
#10= #5041
M78 G31 Z#15 F [ 1016. * #179 ]
M78 G31 X [ [ #5041 + [ #7 / 2 ] ] + [ 2.5 * #179 ] ] F [ 1016. * #179 ]
(CAL Z)
#16= #5043 - #5083 - #30
G65 P9811 Z#16 Q#17
G103 P1
M78 G31 X#10 F [ 1016. * #179 ]
#192= #192 + #16 + #26 + [ #5023 - #5043 ]
#[ 2000 + #3026 ]= #[ 2000 + #3026 ] + #192
#[ #161 + 4 ]= #3026 (PROBE OFFSET #560)
G65 P9725 A4.
G65 P9833
N999
(G04 P1.0)
M99



%