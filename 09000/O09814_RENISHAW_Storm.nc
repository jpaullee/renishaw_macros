%
O09814 (BORE BOSS MEASURE RENISHAW V3.14 FOR NGC)
G103 P1
#3001= 0
G04 P250
IF [ #3001 LT 200 ] GOTO999 (TEST RUNNING IN GRAPHICS)
G65 P9724
G65 P9725 A1.
N1
IF [ #7 NE #0 ] GOTO2
#3000= 91 (D INPUT MISSING)
N2
#1= 185
WHILE [ #1 LE 199 ] DO1
#[ #1 ]= #0
#1= #1 + 1
END1
#10= #5041 (X START)
#12= #5042 (Y START)
#30= -1
IF [ #26 EQ #0 ] GOTO6
IF [ #18 NE #0 ] GOTO5
#18= 5 * #179
N5
IF [ #18 LT 0 ] GOTO6
#30= 1
N6
G65 P9722 D#7 Q#17 R#18 Z#26 S #[ #161 + 1 ] (Y MOVE)
IF [ #199 NE 0 ] GOTO21
G00 Y#178
G65 P9721 D#7 Q#17 R#18 Z#26 S #[ #161 ] (X MOVE)
G00 Y#12
IF [ #199 NE 0 ] GOTO21
#185= #177 + #[ #161 + 2 ] (X COR POS)
#186= #178 + #[ #161 + 3 ] (Y COR POS)
#188= [ ABS[ [ #174 - #177 ] * 2 ] ] - [ #[ #161 ] * #30 * 2 ] (SIZE)
IF [ #8 EQ #0 ] GOTO7
#188= #188 + #[ 2000 + #8 ] (COR SIZE)
N7
#190= #185 - #10 (X POS ERROR)
#191= #186 - #12 (Y POS ERROR)
#193= #188 - #7 (ERROR OF SIZE)
#195= SQRT[ [ #190 * #190 ] + [ #191 * #191 ] ] (TP ERROR)
#196= #193 * #30 / 2 (METAL CON)
N9
IF [ #23 EQ #0 ] GOTO10
G65 P9730 D#7 H#11 M#13 S#19 T#20 W#23 X#10 Y#12 E2.
N10
IF [ #21 EQ #0 ] GOTO11
IF [ ABS[ #193 ] GE #21 ] GOTO23
IF [ #195 GE #21 ] GOTO23
N11
IF [ #11 EQ #0 ] GOTO13
IF [ ABS[ #193 ] LT #11 ] GOTO12
#198= 1
N12
IF [ #170 AND 4 EQ 4 ] GOTO13
IF [ ABS[ #193 ] LT #11 ] GOTO13
#[ 3006 - [ [ #170 AND 8 ] / 8 * 6 ] ]= 1 (OUT OF TOL)
N13
IF [ #13 EQ #0 ] GOTO15
IF [ ABS[ #195 ] LT #13 / 2 ] GOTO14
#198= 2
N14
IF [ #170 AND 4 EQ 4 ] GOTO15
IF [ ABS[ #195 ] LT #13 / 2 ] GOTO15
#[ 3006 - [ [ #170 AND 8 ] / 8 * 6 ] ]= 1 (OUT OF POSITION)
N15
IF [ #20 EQ #0 ] GOTO19
IF [ ABS[ #196 ] LT #22 ] GOTO19
IF [ #9 NE #0 ] GOTO16
#9= 1
N16
G65 P9732 T#20 C [ #196 * #9 ]
IF [ #26 NE #0 ] GOTO19
IF [ #168 LT #7 / 2 ] GOTO18
#198= 5
N18
IF [ #170 AND 4 EQ 4 ] GOTO19
IF [ #168 LT #7 / 2 ] GOTO19
#[ 3006 - [ [ #170 AND 8 ] / 8 * 6 ] ]= 1 (DIA OFFSET TOO LARGE)
N19
IF [ #19 EQ #0 ] GOTO24
G65 P9732 S#19 W1.
GOTO24
N21
IF [ #199 NE 2 ] GOTO22
#3000= 93 (SURFACE NOT FOUND)
N22
#3000= 92 (UNEXPECTED SURFACE FOUND)
N23
#198= 3
IF [ #170 AND 4 EQ 4 ] GOTO24
#[ 3006 - [ [ #170 AND 8 ] / 8 * 6 ] ]= 1 (UPPER TOL EXCEEDED)
N24
G00 X#10 Y#12
N999
G103
(G04 P1.0)
M99



%